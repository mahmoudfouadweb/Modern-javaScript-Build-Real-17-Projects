'use strict';

const form = document.querySelector('.form');
const input = document.querySelector('.input');
const todosUl = document.querySelector('.todos');
///////////////////////////////////////////////
// localstorage Control
const todos = localStorage.getItem(JSON.parse(todos));
if (todos) addTodo(todos);

///////////////////////////////////////////////

///////////////////////////////////////////////
///////////////////////////////////////////////
///////////////////////////////////////////////
///////////////////////////////////////////////
///////////////////////////////////////////////
///////////////////////////////////////////////
///////////////////////////////////////////////
///////////////////////////////////////////////
///////////////////////////////////////////////
///////////////////////////////////////////////
///////////////////////////////////////////////
///////////////////////////////////////////////
///////////////////////////////////////////////
///////////////////////////////////////////////
///////////////////////////////////////////////
///////////////////////////////////////////////
///////////////////////////////////////////////
///////////////////////////////////////////////
///////////////////////////////////////////////
///////////////////////////////////////////////
///////////////////////////////////////////////
///////////////////////////////////////////////
///////////////////////////////////////////////
///////////////////////////////////////////////
///////////////////////////////////////////////
///////////////////////////////////////////////
///////////////////////////////////////////////
///////////////////////////////////////////////
///////////////////////////////////////////////
///////////////////////////////////////////////
///////////////////////////////////////////////
///////////////////////////////////////////////
///////////////////////////////////////////////
///////////////////////////////////////////////
///////////////////////////////////////////////
///////////////////////////////////////////////
///////////////////////////////////////////////
///////////////////////////////////////////////
///////////////////////////////////////////////
///////////////////////////////////////////////
///////////////////////////////////////////////
///////////////////////////////////////////////
///////////////////////////////////////////////
///////////////////////////////////////////////
///////////////////////////////////////////////
///////////////////////////////////////////////
///////////////////////////////////////////////
///////////////////////////////////////////////
///////////////////////////////////////////////
///////////////////////////////////////////////
///////////////////////////////////////////////
///////////////////////////////////////////////
///////////////////////////////////////////////
///////////////////////////////////////////////
///////////////////////////////////////////////
///////////////////////////////////////////////
///////////////////////////////////////////////
///////////////////////////////////////////////
///////////////////////////////////////////////
///////////////////////////////////////////////
///////////////////////////////////////////////

// const todos = JSON.parse(localStorage.getItem('todos'));
// //save our 'todos' to localstorage
// if (todos) {
//   todos.forEach(todo => {
//     updateLS();
//     addTodo(todo);
//   });
// }
// function addTodo(todo) {
//   let todoText = input.value;
//   if (todo) {
//     todoText = todo.text;
//   }
//   // Build todo item
//   if (todoText) {
//     const todoEl = document.createElement('li');
//     if (todo && todo.completed) {
//       todoEl.classList.add('completed');
//     }
//     todoEl.textContent = todoText;
//     // mark as completed
//     todoEl.addEventListener('click', e => {
//       e.currentTarget.classList.toggle('completed');
//       updateLS();
//     });
//     // delete completed
//     todoEl.addEventListener('contextmenu', e => {
//       e.preventDefault();
//       e.currentTarget.remove();
//     });
//     //add to the DOM
//     todosUl.append(todoEl);
//     form.reset();
//     updateLS();
//   }
// }

// function updateLS() {
//   const todosEl = document.querySelectorAll('li');

//   const todos = [];
//   todosEl.forEach(todoEl => {
//     todos.push({
//       text: todoEl.innerText,
//       completed: todoEl.classList.contains('completed'),
//     });
//   });
//   localStorage.setItem('todos', JSON.stringify(todos));
// }

// form.addEventListener('submit', e => {
//   e.preventDefault();
//   addTodo();
// });
///////////////////////////////////////////////
///////////////////////////////////////////////
///////////////////////////////////////////////
///////////////////////////////////////////////
///////////////////////////////////////////////
///////////////////////////////////////////////
///////////////////////////////////////////////
///////////////////////////////////////////////
// function update() {
//   todos.querySelectorAll('li').forEach(el => {
//     el.addEventListener('click', e => {
//       const clicked = e.target;
//       if (clicked && clicked.classList.contains('completed')) {
//         clicked.classList.remove('completed');
//       } else {
//         clicked.classList.add('completed');
//       }
//     });
//     el.addEventListener('contextmenu', e => {
//       e.preventDefault();
//       const clicked = e.target;
//       if (clicked) {
//         clicked.style.display = 'none';
//       }
//       console.log(e.target);
//     });
//   });
// }

// form.addEventListener('submit', e => {
//   e.preventDefault();
//   addTodo();
//   update();
// });
